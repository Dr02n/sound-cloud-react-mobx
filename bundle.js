!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=35)}({"./app/Root.js":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(5),i=n("./app/components/App.jsx"),s=n("./app/pages/Explore.jsx"),l=n("./app/pages/Search.jsx"),c=n("./app/pages/User/index.jsx"),u=n("./app/pages/User/UserCategory.jsx"),p=n("./app/pages/User/UserAbout.jsx"),f=n("./app/pages/Track.jsx"),d=n("./app/pages/Playlist.jsx"),m=n("./app/pages/Stream.jsx"),h=n("./app/pages/Callback.jsx"),y=n("./app/config.js"),b=y.a?"/":"https://sbutnko.github.io/sound-cloud-react-mobx",v=function(e){return a.a.createElement(o.Router,{history:o.browserHistory},a.a.createElement(o.Route,{path:b,component:i.a,test:"test"},a.a.createElement(o.IndexRedirect,{to:"explore"}),a.a.createElement(o.Route,{path:"callback",component:h.a}),a.a.createElement(o.Route,{path:"stream",component:m.a}),a.a.createElement(o.Route,{path:"explore(/:genre)",component:s.a}),a.a.createElement(o.Route,{path:"search/:cat",component:l.a}),a.a.createElement(o.Route,{path:":user",component:c.a},a.a.createElement(o.IndexRedirect,{to:"tracks"}),a.a.createElement(o.Route,{path:"about",component:p.a}),a.a.createElement(o.Route,{path:":cat",component:u.a})),a.a.createElement(o.Route,{path:":user/tracks/:track",component:f.a}),a.a.createElement(o.Route,{path:":user/playlists/:playlist",component:d.a})))};t.a=v},"./app/api.js":function(e,t,n){"use strict";function r(e){return e.includes("client_id")||e.includes("oauth_token")?e:e+=P()?"&oauth_token="+P():"&client_id="+x.c}function a(e){return e+"?client_id="+x.c}function o(e,t){return w.a.get(e,Object.assign({limit:L,linked_partitioning:1},t)).then(function(e){return I=e.next_href,e}).catch(N)}function i(e){return O.a.get(r(e)).then(function(t){var n=t.data;return e=n.next_href,n}).catch(N)}function s(e){return O.a.get(""+S+e,{params:T}).then(function(e){return e.data}).catch(N)}function l(e){return w.a.get("/users/"+e+"/web-profiles").catch(N)}function c(e,t){return O.a.get(""+S+e+"/sets/"+t,{params:T}).then(function(e){return e.data}).catch(N)}function u(e,t){return O.a.get(""+S+e+"/"+t,{params:T}).then(function(e){return e.data}).catch(N)}function p(e){return w.a.put("/me/followings/"+e).catch(N)}function f(e){return w.a.delete("/me/followings/"+e).catch(N)}function d(e){return w.a.put("/me/favorites/"+e).catch(N)}function m(e){return w.a.delete("/me/favorites/"+e).catch(N)}function h(e,t,n){return w.a.post("/tracks/"+e+"/comments",{comment:{body:t,timestamp:n}}).catch(N)}function y(e,t){return w.a.delete("/tracks/"+e+"/comments/"+t).catch(N)}function b(){return O.a.get(C+"e1/me/track_likes/ids",{params:{limit:5e3,linked_partitioning:1,oauth_token:P()}}).then(function(e){return e.data.collection}).catch(N)}function v(){return w.a.get("me/followings",{limit:5e3,linked_partitioning:1}).then(function(e){return e.collection.map(function(e){return e.id})}).catch(N)}function g(e){return O.a.get("//visuals.soundcloud.com/visuals",{params:{urn:"soundcloud:users:"+e,client_id:x.c}}).then(function(e){return e.data}).catch(N)}var k=n(14),w=n.n(k),E=n(13),_=n.n(E),j=n(20),O=n.n(j),x=n("./app/config.js");n.d(t,"q",function(){return R}),t.j=a,t.c=o,t.d=i,t.g=s,t.h=l,t.a=c,t.b=u,t.p=p,t.o=f,t.n=d,t.m=m,t.f=h,t.e=y,t.k=b,t.l=v,t.i=g;var P=function(){return _.a.get(x.b)},C="//api.soundcloud.com/",S=C+"resolve?url=http://soundcloud.com/",T={client_id:x.c},L=50,N=function(e){return console.error(e)},I=null;w.a.initialize({client_id:x.c,redirect_uri:x.d,oauth_token:P()});var R=function(){return I}},"./app/components/App.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(22),c=n.n(l),u=n(2),p=(n.n(u),n(21)),f=n.n(p),d=n(34),m=n.n(d),h=n(23),y=n.n(h),b=n("./app/components/AppBar.jsx"),v=n("./app/components/Player.jsx"),g=n("./app/components/ScrollToTopBtn.jsx"),k=n("./app/stores/view-store.js"),w=n("./app/stores/player-store.js"),E=n("./app/stores/session-store.js"),_=n("./app/config.js"),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),j(t,[{key:"componentWillMount",value:function(){y()()}},{key:"componentDidMount",value:function(){var e=this;f()("space",function(e){e.preventDefault(),w.a.playTrack()}),f()("right",function(){return w.a.stepForward()}),f()("left",function(){return w.a.stepBackward()}),f()("shift+right",function(){return w.a.playNext()}),f()("shift+left",function(){return w.a.playPrev()}),f()("shift+up",function(){w.a.increaseVolume(),e.showVolumeControl()}),f()("shift+down",function(){w.a.decreaseVolume(),e.showVolumeControl()}),f()("shift+l",function(){return w.a.toggleLoop()}),f()("m",function(){w.a.toggleMuted(),e.showVolumeControl()}),f()("s",function(){return w.a.toggleShuffle()}),f()("l",function(){return E.a.toggleLike(w.a.track)}),f()("p",function(){return k.a.togglePlaylist()})}},{key:"showVolumeControl",value:function(){k.a.volumeControlOpen=!0,clearTimeout(this._timerId),this._timerId=setTimeout(function(){return k.a.volumeControlOpen=!1},1e3)}},{key:"render",value:function(){return s.a.createElement(m.a,null,s.a.createElement(u.Provider,{playerStore:w.a,viewStore:k.a,sessionStore:E.a},s.a.createElement("div",null,s.a.createElement(b.a,{router:this.props.router}),this.props.children,s.a.createElement(v.a,null),s.a.createElement(g.a,null),_.a?s.a.createElement(c.a,null):null)))}}]),t}(s.a.Component);t.a=n.i(u.observer)(O)},"./app/components/AppBar.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(5),c=n(2),u=(n.n(c),n(25)),p=n.n(u),f=n(33),d=n.n(f),m=n(3),h=n.n(m),y=n(8),b=n.n(y),v=n(6),g=n.n(v),k=n(30),w=(n.n(k),n("./app/components/AppBar.less")),E=(n.n(w),n("./app/components/SearchWidget.jsx")),_=n("./app/config.js");n.d(t,"a",function(){return P});var j,O,x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=(j=n.i(c.inject)("sessionStore","viewStore"),j(O=n.i(c.observer)(O=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={anchorEl:void 0,open:!1},o.handleRequestOpen=function(e){return o.setState({open:!0,anchorEl:e.currentTarget})},o.handleRequestClose=function(){return o.setState({open:!1})},o.handleLoginClick=function(e){o.props.sessionStore.login().then(function(){return o.props.router.push("/stream")})},o.handleLogoutClick=function(e){o.handleRequestClose(),o.props.sessionStore.logout()},o.handleProfileClick=function(e){var t=o.props,n=t.router,r=t.sessionStore;o.handleRequestClose(),n.push("/"+r.user.permalink)},o.handleLikesClick=function(e){var t=o.props,n=t.router,r=t.sessionStore;o.handleRequestClose(),n.push("/"+r.user.permalink+"/likes")},o.handleStreamClick=function(e){o.handleRequestClose(),o.props.router.push("/stream")},o.handleSearch=function(e){o.props.router.push({pathname:"/search/tracks",query:{q:e}})},i=n,a(o,i)}return o(t,e),x(t,[{key:"render",value:function(){var e=this.props,t=e.sessionStore,n=e.viewStore;return s.a.createElement(p.a,{className:"app-header"+(n.appbarTransparent?" transparent":"")},s.a.createElement(d.a,null,s.a.createElement(h.a,{type:"title",colorInherit:!0,className:"header-title"},s.a.createElement(l.Link,{to:"/",className:"link"},_.e),s.a.createElement("span",{className:"title-separator"},"-")," ",s.a.createElement("span",null,n.title)),s.a.createElement(E.a,{handleSearch:this.handleSearch}),t.isLoggedIn?s.a.createElement("div",null,s.a.createElement(g.a,{contrast:!0,"aria-owns":"simple-menu","aria-haspopup":"true",onClick:this.handleRequestOpen},"more_vert_icon"),s.a.createElement(k.Menu,{id:"simple-menu",anchorEl:this.state.anchorEl,open:this.state.open,onRequestClose:this.handleRequestClose},s.a.createElement(k.MenuItem,{onClick:this.handleProfileClick},"Profile"),s.a.createElement(k.MenuItem,{onClick:this.handleStreamClick},"Stream"),s.a.createElement(k.MenuItem,{onClick:this.handleLikesClick},"Likes"),s.a.createElement(k.MenuItem,{onClick:this.handleLogoutClick},"Logout"))):s.a.createElement(b.a,{contrast:!0,onTouchTap:this.handleLoginClick},"Login")))}}]),t}(s.a.Component))||O)||O)},"./app/components/AppBar.less":function(e,t){},"./app/components/Comments.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,l=n(1),c=n.n(l),u=n(2),p=(n.n(u),n(12)),f=(n.n(p),n(32)),d=n.n(f),m=n(7),h=(n.n(m),n("./app/components/SingleComment.jsx")),y=n("./app/hoc/InfiniteScrollify.jsx"),b=n("./app/api.js"),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(i=n.i(u.inject)("sessionStore","playerStore"),i(s=n.i(u.observer)(s=function(e){function t(){var e,o,i,s;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return o=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={commentBody:""},i.removeComment=function(e){n.i(b.e)(e.track_id,e.id).then(function(t){return i.props.comments.remove(e)})},i.handleFormSubmit=function(e){e.preventDefault();var t=i.props.sessionStore;i.state.commentBody&&(t.isLoggedIn?i.addComment():t.login().then(function(){return i.addComment()}))},s=o,a(i,s)}return o(t,e),v(t,[{key:"addComment",value:function(){var e=this,t=this.props.playerStore,r=this.props.comments[0].track_id,a=t.track&&t.track.id===r?1e3*t.progress:null;n.i(b.f)(r,this.state.commentBody,a).then(function(t){return e.props.comments.unshift(t)}),this.setState({commentBody:""})}},{key:"render",value:function(){var e=this,t=this.props,n=t.comments,r=t.isLoading;return c.a.createElement("div",null,c.a.createElement("form",{action:"",onSubmit:this.handleFormSubmit},c.a.createElement(d.a,{label:"Write a comment",value:this.state.commentBody,onChange:function(t){return e.setState({commentBody:t.target.value})}})),c.a.createElement(p.List,{subheader:c.a.createElement(p.ListSubheader,null,"Comments")},n.map(function(t,n){return c.a.createElement(h.a,{key:t.id,comment:t,removeComment:e.removeComment})})),r&&c.a.createElement("div",{className:"loader-wrap"},c.a.createElement(m.CircularProgress,null)))}}]),t}(l.Component))||s)||s);t.a=n.i(y.a)(g)},"./app/components/DataGrid.jsx":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(2),i=(n.n(o),n(28)),s=(n.n(i),n(7)),l=(n.n(s),n(3)),c=n.n(l),u=n(24),p=n("./node_modules/react-virtualized/styles.css"),f=(n.n(p),n("./app/defaultOverscanIndicesGetter.js")),d=n("./app/components/DataGrid.less"),m=(n.n(d),n("./app/components/TrackCard.jsx")),h=n("./app/components/PlaylistCard.jsx"),y=n("./app/components/UserCard.jsx"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=5,g=300,k=200,w=function(e){function t(e){return p>e.index}function n(e){var t=e.key,n=e.index,o=(e.isScrolling,e.isVisible,e.style),i=n*v,s=i+v;return a.a.createElement("div",{key:t,style:b({},o,{display:"flex"})},r.slice(i,s).map(function(e,t){return a.a.createElement("div",{key:t,className:"layout-item animated fadeIn"},"user"===e.kind?a.a.createElement(y.a,{user:e}):"playlist"===e.kind?a.a.createElement(h.a,{playlist:e}):"track"===e.kind?a.a.createElement(m.a,{track:e,tracks:r}):null)}))}var r=e.data,o=e.isLoading,i=e.isLastPage,l=e.loadMore;if(!r.length&&o)return a.a.createElement("div",{className:"loader-wrap"},a.a.createElement(s.CircularProgress,null));if(!r.length&&i)return a.a.createElement(c.a,{type:"display2",align:"center"},"Nothing to show :(");var p=Math.ceil(r.length/v),d=i?p:p+1,w=k*v,E=g;return a.a.createElement(u.WindowScroller,null,function(e){var r=e.height,o=(e.isScrolling,e.scrollTop);return a.a.createElement(u.InfiniteLoader,{isRowLoaded:t,loadMoreRows:function(){return l()},rowCount:d},function(e){var t=e.onRowsRendered,i=e.registerChild;return a.a.createElement(u.List,{ref:i,onRowsRendered:t,autoHeight:!0,height:r,rowCount:d,rowHeight:E,rowRenderer:n,scrollTop:o,width:w,overscanRowCount:5,overscanIndicesGetter:f.a})})})};t.a=n.i(o.observer)(w)},"./app/components/DataGrid.less":function(e,t){},"./app/components/Player.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(4),c=(n.n(l),n(2)),u=(n.n(c),n(5)),p=n(8),f=n.n(p),d=n(6),m=n.n(d),h=n(11),y=n.n(h),b=n(7),v=(n.n(b),n(3)),g=n.n(v),k=n("./app/components/Player.less"),w=(n.n(k),n("./app/components/PlayerQueue.jsx")),E=n("./app/components/VolumeControl.jsx"),_=(n("./app/constants.js"),n("./app/utils.js")),j=n("./app/api.js");n.d(t,"a",function(){return C});var O,x,P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=(O=n.i(c.inject)("sessionStore","viewStore","playerStore"),O(x=n.i(c.observer)(x=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.onQueueClick=function(e){e.stopPropagation(),o.props.viewStore.togglePlaylist(e)},i=n,a(o,i)}return o(t,e),P(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.playerStore;this.audio=document.createElement("audio"),this.audio.addEventListener("loadstart",function(e){return t.setIsLoading(!0)}),this.audio.addEventListener("canplaythrough",function(e){return t.setIsLoading(!1)}),this.audio.addEventListener("timeupdate",function(e){return t.setProgress(Math.round(e.target.currentTime))}),this.audio.addEventListener("ended",function(e){return t.playNext()}),this.audio.addEventListener("error",this.handeMediaError.bind(this)),this.dispose=n.i(l.autorun)(function(){if(t.track){var r=n.i(j.j)(t.track.stream_url);e.audio.currentSrc!==r&&(e.audio.src=r),Math.abs(Math.round(e.audio.currentTime)-t.progress)>1&&(e.audio.currentTime=t.progress);var a=t.isPlaying?e.audio.play():e.audio.pause();void 0!==a&&"function"==typeof a.then&&a.then(null,function(e){}),e.audio.muted=t.muted,e.audio.loop=t.loop,e.audio.volume=t.volume}})}},{key:"handeMediaError",value:function(e){switch(this.props.playerStore.isLoading=!1,e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:console.error("You aborted the video playback.");break;case e.target.error.MEDIA_ERR_NETWORK:console.error("A network error caused the audio download to fail.");break;case e.target.error.MEDIA_ERR_DECODE:console.error("The audio playback was aborted due to a corruption problem or because the video used features your browser did not support.");break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.error("The video audio not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.error("An unknown error occurred.")}}},{key:"componentWillUnmount",value:function(){this.dispose(),this.audio.pause()}},{key:"render",value:function(){var e=this.props,t=e.viewStore,r=e.sessionStore,a=e.playerStore,o=e.playerStore.track;if(!o)return null;var i=Math.round(a.progress/(o.duration/1e3)*100);Math.round(a.buffered/(o.duration/1e3)*100);return s.a.createElement("div",{className:"player"},s.a.createElement(b.LinearProgress,{mode:"determinate",value:i,className:"player__progress-bar"}),s.a.createElement("div",{className:"player__preloader"+(a.isLoading?" visible":"")},s.a.createElement(b.CircularProgress,null)),s.a.createElement("div",{className:"player__inner"},s.a.createElement("div",{className:"player__group player__group--left"},s.a.createElement("img",{className:"player__track-artwork",src:n.i(_.a)(o.artwork_url),width:64,height:64}),s.a.createElement("div",{className:"player__track-details"},s.a.createElement(g.a,{type:"subheading",noWrap:!0},s.a.createElement(u.Link,{to:"/"+o.user.permalink+"/tracks/"+o.permalink,title:o.title,className:"link"},o.title)),s.a.createElement(g.a,{type:"body1",noWrap:!0,secondary:!0},s.a.createElement(u.Link,{to:"/"+o.user.permalink,className:"link"},o.user.username)))),s.a.createElement("div",{className:"player__group player__group--center"},s.a.createElement(m.a,{accent:r.isLiked(o),onTouchTap:function(){return r.toggleLike(o)}},"favorite"),s.a.createElement(m.a,{accent:a.loop,onTouchTap:function(){return a.toggleLoop()}},"repeat"),s.a.createElement(m.a,{disabled:!a.queue.prevTrack,onTouchTap:function(){return a.playPrev()}},"skip_previous"),s.a.createElement(f.a,{fab:!0,primary:!0,onTouchTap:function(){return a.playTrack()},className:"player__play-btn"},a.isPlaying?s.a.createElement(y.a,null,"pause"):s.a.createElement(y.a,null,"play_arrow")),s.a.createElement(m.a,{disabled:!a.queue.nextTrack,onTouchTap:function(){return a.playNext()}},"skip_next"),s.a.createElement(m.a,{accent:a.shuffle,onTouchTap:function(){return a.toggleShuffle()}},"shuffle")),s.a.createElement("div",{className:"player__group player__group--right"},s.a.createElement(E.a,null),s.a.createElement(m.a,{accent:t.playlistOpen,onClick:this.onQueueClick},"queue_music"),s.a.createElement(w.a,null))))}}]),t}(s.a.Component))||x)||x)},"./app/components/Player.less":function(e,t){},"./app/components/PlayerQueue.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,l=n(1),c=n.n(l),u=(n(5),n(2)),p=(n.n(u),n(10)),f=(n.n(p),n(12)),d=(n.n(f),n(9)),m=n.n(d),h=n(15),y=n.n(h),b=n(11),v=n.n(b),g=n(31),k=(n.n(g),n("./app/components/PlayerQueue.less")),w=(n.n(k),n("./app/components/TrackCard.jsx"),n("./app/utils.js")),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=30,j=(i=n.i(u.inject)("viewStore","playerStore"),i(s=n.i(u.observer)(s=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),E(t,[{key:"componentDidUpdate",value:function(e,t){var r=document.body.style;if(!e.viewStore.playlistOpen)return r.overflow=null,void(r.paddingRight=null);r.overflow="hidden",r.paddingRight="17px";var a=document.querySelector(".player-queue [data-id='"+this.props.playerStore.track.id+"']");a&&!n.i(w.h)(a)&&a.scrollIntoView()}},{key:"render",value:function(){var e=this.props,t=e.playerStore;if(!e.viewStore.playlistOpen)return null;var r=t.queue,a=r.items,o=r.trackIndex,i=Math.max(0,o-_/2),s=Math.min(i+_,a.length),l=t.queue.isLoading?"loading...":"";return c.a.createElement("div",{className:"player-queue",onClick:function(e){return e.stopPropagation()}},c.a.createElement(p.Card,null,c.a.createElement(p.CardHeader,{title:"Queue ("+(o+1)+"/"+a.length+") "+l}),c.a.createElement(y.a,null),c.a.createElement("div",{className:"player-queue__inner"},c.a.createElement(f.List,null,a.slice(i,s).map(function(e,r){return c.a.createElement(f.ListItem,{key:e.permalink+r,button:!0,divider:!0,dense:!0,"data-id":e.id,onTouchTap:function(){return t.playTrack(e)}},c.a.createElement(m.a,{src:n.i(w.a)(e.artwork_url),className:"list-avatar"}),c.a.createElement(f.ListItemText,{primary:e.title,secondary:e.user.username,title:e.title,className:"list-item-text-nowrap"}),t.isSelected(e)?c.a.createElement(f.ListItemIcon,{className:"list-icon"},c.a.createElement(v.a,null,"volume_up")):null)}))),c.a.createElement(p.CardActions,{style:{justifyContent:"center"}},c.a.createElement(g.LabelSwitch,{checked:t.skipPreviews,onChange:function(e,n){return t.toggleSkipPreviews()},label:"Skip Previews"}))))}}]),t}(c.a.Component))||s)||s);t.a=j},"./app/components/PlayerQueue.less":function(e,t){},"./app/components/PlaylistCard.jsx":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(5),i=n(10),s=(n.n(i),n(3)),l=n.n(s),c=n(11),u=n.n(c),p=n("./app/components/PlaylistCard.less"),f=(n.n(p),n("./app/utils.js")),d=n("./app/constants.js"),m=function(e){var t=e.playlist,r="/"+t.user.permalink+"/playlists/"+t.permalink;return a.a.createElement(i.Card,{className:"playlist-card"},a.a.createElement(i.CardMedia,{className:"playlist-card__media"},a.a.createElement(o.Link,{to:r},a.a.createElement("img",{src:n.i(f.a)(t.artwork_url,d.a.t200x200),alt:t.title,width:"200",height:"200"}),a.a.createElement("div",{className:"playlist-card__overlay"},a.a.createElement(l.a,{type:"subheading",colorInherit:!0,style:{marginRight:4}},t.track_count),a.a.createElement(u.a,null,"playlist_play")))),a.a.createElement(i.CardContent,null,a.a.createElement(l.a,{type:"subheading",noWrap:!0,title:t.title},a.a.createElement(o.Link,{to:r,className:"link"},t.title))))};t.a=m},"./app/components/PlaylistCard.less":function(e,t){},"./app/components/ScrollToTopBtn.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(8),c=n.n(l),u=n(11),p=n.n(u),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={scrollToTopVisible:!1},o.handleScroll=function(){window.pageYOffset>1e3?o.setState({scrollToTopVisible:!0}):o.setState({scrollToTopVisible:!1})},o.handleScrollToTopClick=function(){window.scrollTo(0,0)},i=n,a(o,i)}return o(t,e),f(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return this.state.scrollToTopVisible?s.a.createElement(c.a,{fab:!0,accent:!0,onTouchTap:this.handleScrollToTopClick,className:"scroll-to-top-btn"},s.a.createElement(p.a,null,"keyboard_arrow_up")):null}}]),t}(i.Component);t.a=d},"./app/components/SearchWidget.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(6),c=n.n(l),u=n(27),p=n.n(u),f=n("./app/components/SearchWidget.less"),d=(n.n(f),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={focused:!1},o.handleSearchClick=function(e){if(o.state.focused)return o.handleSubmit(e);o.setState({focused:!0}),o.textInput.input.focus()},o.handleCloseClick=function(e){return o.setState({focused:!1})},o.handleSubmit=function(e){e.preventDefault();var t=o.textInput.input.value;""!==t&&(o.props.handleSearch(t),o.clearSearch())},i=n,a(o,i)}return o(t,e),d(t,[{key:"clearSearch",value:function(){this.setState({focused:!1}),this.textInput.input.value=""}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:"search-widget"+(this.state.focused?" focused":""),onSubmit:this.handleSubmit},s.a.createElement(c.a,{className:"search-btn",ripple:!1,onTouchTap:this.handleSearchClick},"search"),s.a.createElement(c.a,{className:"search-close-btn",ripple:!1,onTouchTap:this.handleCloseClick},"close"),s.a.createElement(p.a,{className:"search-input",placeholder:"Search",ref:function(t){return e.textInput=t}}))}}]),t}(i.Component);t.a=m},"./app/components/SearchWidget.less":function(e,t){},"./app/components/SingleComment.jsx":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(2),i=(n.n(o),n(5)),s=n(12),l=(n.n(s),n(9)),c=n.n(l),u=n(6),p=n.n(u),f=n("./app/utils.js"),d=n("./app/constants.js"),m=function(e){var t=e.comment,r=e.removeComment,o=e.sessionStore;return a.a.createElement(s.ListItem,{divider:!0},a.a.createElement(c.a,{src:n.i(f.a)(t.user.avatar_url,d.a.badge),alt:t.user.username,className:"list-avatar"}),a.a.createElement(s.ListItemText,{primary:a.a.createElement("span",null,a.a.createElement(i.Link,{to:"/"+t.user.permalink,className:"link link--blue"},t.user.username),a.a.createElement("span",{className:"bullet"},"•"),a.a.createElement("small",null," at ",n.i(f.b)(t.timestamp)),a.a.createElement("span",{className:"bullet"},"•"),a.a.createElement("small",null,n.i(f.c)(t.created_at))),secondary:t.body,className:"list-item-text"}),o.isLoggedIn&&o.user.id===t.user.id&&a.a.createElement(s.ListItemSecondaryAction,null,a.a.createElement(p.a,{onClick:function(){return r(t)}},"close")))};t.a=n.i(o.inject)("sessionStore")(n.i(o.observer)(m))},"./app/components/TrackCard.jsx":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(5),i=n(2),s=(n.n(i),n(10)),l=(n.n(s),n(3)),c=n.n(l),u=n(6),p=n.n(u),f=n("./app/utils.js"),d=n("./app/constants.js"),m=n("./app/components/TrackCard.less"),h=(n.n(m),function(e){var t=e.track,r=e.compact,i=e.playerStore,l=e.tracks;return a.a.createElement(s.Card,{className:"track-card"+(!r&&i.isSelected(t)?" active":"")},a.a.createElement(s.CardMedia,{className:"track-card__media"},a.a.createElement("img",{src:n.i(f.a)(t.artwork_url,d.a.t200x200),alt:t.title}),a.a.createElement("div",{className:"track-card__overlay"},a.a.createElement(p.a,{iconClassName:"track-card__play",onTouchTap:function(){return i.playTrack(t,l.slice())}},"isPlaying"===i.isSelected(t)?"pause":"play_arrow")),n.i(f.d)(t)?a.a.createElement("div",{className:"track-card__overlay2"},a.a.createElement(c.a,{colorInherit:!0},"Preview")):null),r?null:a.a.createElement(s.CardContent,null,a.a.createElement(c.a,{type:"subheading",noWrap:!0,title:t.title},a.a.createElement(o.Link,{to:"/"+t.user.permalink+"/tracks/"+t.permalink,className:"link"},t.title)),a.a.createElement(c.a,{type:"body1",secondary:!0,noWrap:!0,gutterBottom:!0},a.a.createElement(o.Link,{to:"/"+t.user.permalink,className:"link"},t.user.username)),a.a.createElement(c.a,{type:"caption"},n.i(f.e)(t.likes_count||t.favoritings_count)+" likes",a.a.createElement("span",{className:"bullet"},"•"),n.i(f.c)(t.created_at))))});t.a=n.i(i.inject)("playerStore")(n.i(i.observer)(h))},"./app/components/TrackCard.less":function(e,t){},"./app/components/UserCard.jsx":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(5),i=n(2),s=(n.n(i),n(9)),l=n.n(s),c=n(3),u=n.n(c),p=n("./app/components/UserCard.less"),f=(n.n(p),n("./app/utils.js")),d=n("./app/constants.js"),m=function(e){var t=e.user,r="/"+t.permalink;return a.a.createElement("div",{className:"user-card"},a.a.createElement(o.Link,{to:r,className:"link"},a.a.createElement(l.a,{alt:t.username,src:n.i(f.a)(t.avatar_url,d.a.t200x200),className:"user-card__avatar"})),a.a.createElement("div",{className:"user-card__content"},a.a.createElement(u.a,{type:"subheading",align:"center"},a.a.createElement(o.Link,{to:r,className:"link"},t.username)),t.followers_count&&a.a.createElement(u.a,{type:"caption",align:"center"},n.i(f.e)(t.followers_count)," followers")))};t.a=n.i(i.observer)(m)},"./app/components/UserCard.less":function(e,t){},"./app/components/VolumeControl.jsx":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(2),i=(n.n(o),n(6)),s=n.n(i),l=n(10),c=(n.n(l),n("./app/components/VolumeControl.less")),u=(n.n(c),function(e){var t=e.playerStore,n=e.viewStore;return a.a.createElement("div",{className:"volume-slider-wrap",onMouseOver:function(){return n.volumeControlOpen=!0},onMouseOut:function(){return n.volumeControlOpen=!1}},a.a.createElement(l.Card,{className:"volume-slider "+(n.volumeControlOpen?"visible":"")},a.a.createElement(l.CardContent,null,t.volume)),a.a.createElement(s.a,{onTouchTap:function(){return t.toggleMuted()}},t.muted?"volume_off":1===t.volume?"volume_up":0===t.volume?"volume_mute":"volume_down"))});t.a=n.i(o.inject)("playerStore","viewStore")(n.i(o.observer)(u))},"./app/components/VolumeControl.less":function(e,t){},"./app/config.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return s});var r=0,a=r?window.location.protocol+"//"+window.location.host+"/callback":"http://serjp.github.io/callback",o=r?"IrPMGeU7yK6uFyuptLxVtWE2tiuphX8t":"BqVqkdpqbop0oQLZJ4OyaW7U0UpyytJS",i="accessToken",s="SoundConnect"},"./app/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={t500x500:"t500x500",crop:"crop",t300x300:"t300x300",t200x200:"t200x200",large:"large",t67x67:"t67xt67",badge:"badge",small:"small",tiny:"tiny",mini:"mini"}},"./app/defaultOverscanIndicesGetter.js":function(e,t,n){"use strict";function r(e){var t=e.cellCount,n=e.overscanCellsCount,r=(e.scrollDirection,e.startIndex),a=e.stopIndex,o=void 0,i=void 0;return o=r-n,i=a+n,{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i)}}t.a=r},"./app/hoc/DataLoader.jsx":function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l=n(1),c=n.n(l),u=n(4),p=(n.n(u),n(2)),f=(n.n(p),n("./app/api.js")),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.a=function(e){var t,h,y,b,v,g;return t=u.observable.shallow,n.i(p.observer)((y=function(t){function s(){var e,t,i,l;a(this,s);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return t=i=o(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(u))),r(i,"data",b,i),r(i,"isLoading",v,i),r(i,"nextHref",g,i),i.loadData=function(e,t){i.isLoading=!0,n.i(f.c)(e,t).then(function(e){return i.callback(e,!0)})},i.loadMore=function(){if(!i.isLoading&&!i.isLastPage){var e=i.nextHref;i.isLoading=!0,n.i(f.d)(e).then(function(t){e===i.nextHref&&i.callback(t)})}},l=t,o(i,l)}return i(s,t),m(s,[{key:"callback",value:function(e,t){var n=this;if(!e.collection.length)return this.nextHref=null,void(this.isLoading=!1);t?this.data=e.collection:e.collection.forEach(function(e){return n.data.push(e)}),this.nextHref=e.next_href,this.isLoading=!1}},{key:"clearData",value:function(){this.data=[],this.nextHref=null}},{key:"render",value:function(){return c.a.createElement(e,d({},this.props,{data:this.data,isLoading:this.isLoading,isLastPage:this.isLastPage,loadData:this.loadData,loadMore:this.loadMore,clearData:this.clearData.bind(this)}))}},{key:"isLastPage",get:function(){return!this.nextHref}}]),s}(l.Component),b=s(y.prototype,"data",[t],{enumerable:!0,initializer:function(){return[]}}),v=s(y.prototype,"isLoading",[u.observable],{enumerable:!0,initializer:null}),g=s(y.prototype,"nextHref",[u.observable],{enumerable:!0,initializer:null}),s(y.prototype,"isLastPage",[u.computed],Object.getOwnPropertyDescriptor(y.prototype,"isLastPage"),y.prototype),s(y.prototype,"callback",[u.action],Object.getOwnPropertyDescriptor(y.prototype,"callback"),y.prototype),h=y))||h}},"./app/hoc/InfiniteScrollify.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.a=function(e){return function(t){function n(){var e,t,o,i;r(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=o=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.onScroll=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&o.props.loadMore()},i=t,a(o,i)}return o(n,t),l(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){return s.a.createElement(e,this.props)}}]),n}(i.Component)}},"./app/hoc/RequireAuth.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(2),c=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());t.a=function(e){var t,u;return t=n.i(l.inject)("sessionStore"),t(u=n.i(l.observer)(u=function(t){function n(){return r(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.props.sessionStore.isLoggedIn||this.props.router.replace("/")}},{key:"componentWillUpdate",value:function(e,t){e.sessionStore.isLoggedIn||this.props.router.replace("/")}},{key:"render",value:function(){return this.props.sessionStore.isLoggedIn,s.a.createElement(e,this.props)}}]),n}(i.Component))||u)||u}},"./app/main.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n.n(r),o=n(19),i=(n.n(o),n("./node_modules/react-hot-loader/index.js")),s=(n.n(i),n("./app/api.js"),n("./app/Root.js")),l=n("./app/styles/index.less"),c=(n.n(l),function(){n.i(o.render)(a.a.createElement(i.AppContainer,null,a.a.createElement(s.a,null)),document.getElementById("root"))});c()},"./app/pages/Callback.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i);n.d(t,"a",function(){return c});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){window.setTimeout(opener.SC.connectCallback,1)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("p",null,"This page should close soon."))}}]),t}(s.a.Component)},"./app/pages/Explore.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,l=n(1),c=n.n(l),u=n(4),p=(n.n(u),n(2)),f=(n.n(p),n(29)),d=(n.n(f),n(17)),m=n.n(d),h=n(16),y=n.n(h),b=n("./app/components/DataGrid.jsx"),v=n("./app/hoc/DataLoader.jsx"),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k={ambient:"Ambient",deephouse:"Deep House",electronic:"Electronic",house:"House",techno:"Techno",trap:"Trap"},w=[];for(var E in k)w.push(E);var _=(i=n.i(p.inject)("viewStore"),i(s=n.i(p.observer)(s=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleChange=function(e,t){o.props.router.push("/explore/"+w[t])},i=n,a(o,i)}return o(t,e),g(t,[{key:"componentDidMount",value:function(){this.props.viewStore.title="Explore",this.load(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.params.genre!==this.props.params.genre&&this.load(e)}},{key:"load",value:function(e){var t=e.params,n=e.router;t.genre?(this.props.clearData(),this.props.loadData("/tracks",{tags:t.genre})):n.replace("/explore/"+w[0])}},{key:"render",value:function(){var e=this.props,t=e.params,n=e.data,r=e.isLoading,a=e.isLastPage,o=e.loadMore,i=w.indexOf(t.genre);return i=i===-1?0:i,c.a.createElement("div",null,c.a.createElement("div",{className:"app-toolbar"},c.a.createElement(m.a,{textColor:"accent",index:i,onChange:this.handleChange},w.map(function(e,t){return c.a.createElement(y.a,{key:t,label:k[e]})}))),c.a.createElement("div",{className:"container",style:{paddingTop:96}},c.a.createElement(b.a,{data:n,isLoading:r,isLastPage:a,loadMore:o})))}}]),t}(l.Component))||s)||s);t.a=n.i(v.a)(_)},"./app/pages/Playlist.jsx":function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l=n(1),c=n.n(l),u=n(4),p=(n.n(u),n(2)),f=(n.n(p),n(7)),d=(n.n(f),n(3)),m=n.n(d),h=n("./app/pages/Playlist.less"),y=(n.n(h),n("./app/components/UserCard.jsx")),b=n("./app/components/DataGrid.jsx"),v=n("./app/api.js"),g=n("./app/utils.js"),k=n("./app/constants.js");n.d(t,"a",function(){return x});var w,E,_,j,O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=(w=n.i(p.inject)("sessionStore","viewStore","playerStore"),w(E=n.i(p.observer)((_=function(e){function t(){var e,n,i,s;a(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r(i,"playlist",j,i),s=n,o(i,s)}return i(t,e),O(t,[{key:"componentDidMount",value:function(){this.loadData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.loadData(e)}},{key:"loadData",value:function(e){var t=this,r=e.params,a=r.user,o=r.playlist,i=e.viewStore;n.i(v.a)(a,o).then(function(e){t.playlist=e,i.title=e.title})}},{key:"render",value:function(){var e=this.playlist;return e?c.a.createElement("div",null,c.a.createElement("div",{className:"playlist-header"},c.a.createElement("div",{className:"container playlist-header__row"},c.a.createElement("img",{src:n.i(g.a)(e.artwork_url,k.a.t200x200),alt:"playlsit.title",width:"184",height:"184"}),c.a.createElement("div",{className:"playlist-header__details"},c.a.createElement(m.a,{type:"display1"},e.title),c.a.createElement(m.a,{type:"subheading",gutterBottom:!0},e.track_count," tracks ",c.a.createElement("span",{className:"bullet"},"•"),n.i(g.b)(e.duration)," ",c.a.createElement("span",{className:"bullet"},"•"),n.i(g.c)(e.created_at)," ",c.a.createElement("span",{className:"bullet"},"•"),e.genre)),c.a.createElement("div",{className:"playlist-user"},c.a.createElement(y.a,{user:e.user})))),c.a.createElement("div",{className:"container"},c.a.createElement(b.a,{data:e.tracks,isLastPage:!0}))):c.a.createElement("div",{className:"loader-wrap"},c.a.createElement(f.CircularProgress,null))}}]),t}(l.Component),j=s(_.prototype,"playlist",[u.observable],{enumerable:!0,initializer:null}),E=_))||E)||E)},"./app/pages/Playlist.less":function(e,t){},"./app/pages/Search.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,l=n(1),c=n.n(l),u=n(4),p=(n.n(u),n(2)),f=(n.n(p),n(5),n(3)),d=n.n(f),m=n("./app/components/DataGrid.jsx"),h=n("./app/hoc/DataLoader.jsx"),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(i=n.i(p.inject)("viewStore"),i(s=n.i(p.observer)(s=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.viewStore,n=e.location,r=e.params;t.title="Search",this.loadData(n.query.q,r.cat)}},{key:"componentWillReceiveProps",value:function(e,t){var n=e.params.cat,r=e.location.query.q;this.props.params.cat===n&&this.props.location.query.q===r||this.loadData(r,n)}},{key:"loadData",value:function(e,t){return"#"===e.charAt(0)?this.props.loadData("/tracks",{tags:e.slice(1)}):"tracks"===t?this.props.loadData("/tracks",{q:e}):"people"===t?this.props.loadData("/users",{q:e}):void 0}},{key:"render",value:function(){var e=this.props,t=(e.params.cat,e.location.query.q),n=e.data,r=e.isLoading,a=e.isLastPage,o=e.loadMore;t.charAt(0);return c.a.createElement("div",{className:"container"},c.a.createElement(d.a,{type:"display2",style:{padding:"70px 0"}},"Results for ",c.a.createElement("span",{style:{color:"#3f51b5"}},t)),c.a.createElement(m.a,{data:n,isLoading:r,isLastPage:a,loadMore:o}))}}]),t}(l.Component))||s)||s);t.a=n.i(h.a)(b)},"./app/pages/Stream.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,l=n(1),c=n.n(l),u=n(4),p=(n.n(u),n(2)),f=(n.n(p),n("./app/components/DataGrid.jsx")),d=n("./app/hoc/DataLoader.jsx"),m=n("./app/hoc/RequireAuth.jsx"),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(i=n.i(p.inject)("viewStore"),i(s=n.i(p.observer)(s=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"componentDidMount",value:function(){this.props.viewStore.title="Your Stream",this.props.loadData("me/activities/tracks/affiliated")}},{key:"filterData",value:function(e){return e.filter(function(e){return e.hasOwnProperty("origin")&&e.origin}).filter(function(e){return"track"===e.type||"track-repost"===e.type}).map(function(e){return e.origin})}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.isLoading,r=e.isLastPage,a=e.loadMore;return c.a.createElement("div",{className:"container",style:{paddingTop:48}},c.a.createElement(f.a,{data:this.filterData(t),isLoading:n,isLastPage:r,loadMore:a}))}}]),t}(c.a.Component))||s)||s);t.a=n.i(m.a)(n.i(d.a)(y))},"./app/pages/Track.jsx":function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l,c,u,p,f=n(1),d=n.n(f),m=(n(5),n(4)),h=(n.n(m),n(2)),y=(n.n(h),n(26)),b=n.n(y),v=n(15),g=(n.n(v),n(3)),k=n.n(g),w=n(7),E=(n.n(w),n(8)),_=n.n(E),j=n("./app/pages/Track.less"),O=(n.n(j),n("./app/components/Comments.jsx")),x=n("./app/components/TrackCard.jsx"),P=n("./app/components/UserCard.jsx"),C=n("./app/hoc/DataLoader.jsx"),S=n("./app/utils.js"),T=n("./app/api.js"),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=(l=n.i(h.inject)("sessionStore","viewStore"),l(c=n.i(h.observer)((u=function(e){function t(){var e,n,i,s;a(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r(i,"track",p,i),s=n,o(i,s)}return i(t,e),L(t,[{key:"componentDidMount",value:function(){this.loadTrack(this.props)}},{key:"componentWillReceieveProps",value:function(e,t){this.loadTrack(e)}},{key:"loadTrack",value:function(e){var t=this,n=e.params,r=n.user,a=n.track,o=e.viewStore;T.b.call(this,r,a).then(function(e){t.track=e,o.title=e.title,t.props.loadData("tracks/"+t.track.id+"/comments")})}},{key:"handleTagClick",value:function(e){this.props.router.push({pathname:"/search/tracks",query:{q:e}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.sessionStore,a=t.data,o=t.isLoading,i=t.loadMore,s=t.isLastPage,l=this.track;return l?d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement("div",{className:"track-header"},d.a.createElement("div",{className:"track-header__row container"},d.a.createElement("div",{className:"track-header__artwork"},d.a.createElement(x.a,{track:l,tracks:[l],compact:!0})),d.a.createElement("div",{className:"track-header__details"},d.a.createElement(k.a,{type:"display1"},l.title),d.a.createElement(k.a,{type:"subheading",gutterBottom:!0},n.i(S.b)(l.duration)," ",d.a.createElement("span",{className:"bullet"},"•"),n.i(S.c)(l.created_at)," ",d.a.createElement("span",{className:"bullet"},"•"),l.genre),d.a.createElement(k.a,{type:"subheading"},n.i(S.e)(l.playback_count)," plays ",d.a.createElement("span",{className:"bullet"},"•"),n.i(S.e)(l.favoritings_count||l.likes_count)," likes ",d.a.createElement("span",{className:"bullet"},"•"),n.i(S.e)(l.reposts_count)," reposts ",d.a.createElement("span",{className:"bullet"},"•"),n.i(S.e)(l.comment_count)," comments")),r.isLiked(l)?d.a.createElement(_.a,{raised:!0,primary:!0,onTouchTap:function(){return r.toggleLike(l)}},"Liked"):d.a.createElement(_.a,{raised:!0,accent:!0,onTouchTap:function(){return r.toggleLike(l)}},"Like"))),d.a.createElement("div",{className:"container",style:{display:"flex"}},d.a.createElement("div",{className:"track-user"},d.a.createElement(P.a,{user:l.user})),d.a.createElement("div",{style:{flex:1}},l.description&&d.a.createElement(k.a,{className:"track-description"}," ",d.a.createElement("pre",null," ",l.description," ")," "),l.tag_list&&d.a.createElement("div",{className:"track-tags"},n.i(S.f)(l.tag_list).map(function(t,n){return d.a.createElement(b.a,{key:n,label:t,style:{margin:4},onClick:function(n){return e.handleTagClick(t)}})})),d.a.createElement(O.a,{comments:a,loadMore:i,isLoading:o,isLastPage:s})))):d.a.createElement("div",{className:"loader-wrap"},d.a.createElement(w.CircularProgress,null))}}]),t}(d.a.Component),p=s(u.prototype,"track",[m.observable],{enumerable:!0,initializer:null}),c=u))||c)||c);t.a=n.i(C.a)(N)},"./app/pages/Track.less":function(e,t){},"./app/pages/User/User.less":function(e,t){},"./app/pages/User/UserAbout.jsx":function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(3),i=n.n(o),s=function(e){var t=e.user,n=e.userWebProfiles;return a.a.createElement("div",null,a.a.createElement(i.a,{type:"headline",gutterBottom:!0},"Statistics"),a.a.createElement(i.a,{style:{marginBottom:24}},t.followings_count," followings ",a.a.createElement("span",{className:"bullet"},"•"),t.playlist_count," playlists ",a.a.createElement("span",{className:"bullet"},"•"),t.public_favorites_count," likes ",a.a.createElement("span",{className:"bullet"},"•"),t.reposts_count," reposts ",a.a.createElement("span",{className:"bullet"},"•"),t.track_count," tracks"),a.a.createElement(i.a,{type:"headline",gutterBottom:!0},"Description"),a.a.createElement(i.a,{style:{marginBottom:24}},a.a.createElement("pre",null,t.description)),a.a.createElement(i.a,{type:"headline",gutterBottom:!0},"Links"),a.a.createElement("ul",{className:"user-links"},n.map(function(e,t){return a.a.createElement("li",{key:t},a.a.createElement("a",{href:e.url,target:"_blank",className:"link link--blue"},e.title))})))};t.a=s},"./app/pages/User/UserCategory.jsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,l=n(1),c=n.n(l),u=n(2),p=(n.n(u),n("./app/components/DataGrid.jsx")),f=n("./app/hoc/DataLoader.jsx"),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(i=n.i(u.inject)("sessionStore"),i(s=n.i(u.observer)(s=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"componentDidMount",value:function(){this.load(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.params.cat!==this.props.params.cat&&this.load(e)}},{key:"load",value:function(e){var t=e.params.cat,n="/users/"+this.props.user.id;switch(this.props.clearData(),t){case"tracks":this.props.loadData(n+"/tracks");break;case"playlists":this.props.loadData(n+"/playlists",{representation:"compact"});break;case"likes":this.props.loadData(n+"/favorites");break;case"followings":this.props.loadData(n+"/followings")}}},{key:"filterData",value:function(e){var t=this.props,n=t.params,r=t.sessionStore,a=t.user;return"likes"===n.cat&&r.isLoggedIn&&a.id===r.user.id&&r.userLikesIds.length?e.filter(function(e){return r.userLikesIds.includes(e.id)}):e}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.isLoading,r=e.isLastPage,a=e.loadMore;return c.a.createElement(p.a,{data:this.filterData(t),isLoading:n,isLastPage:r,loadMore:a})}}]),t}(l.Component))||s)||s);t.a=n.i(f.a)(m)},"./app/pages/User/index.jsx":function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l,c,u,p,f,d,m,h,y=n(1),b=n.n(y),v=n(4),g=(n.n(v),n(2)),k=(n.n(g),n(8)),w=n.n(k),E=n(7),_=(n.n(E),n(3)),j=n.n(_),O=n(17),x=n.n(O),P=n(16),C=n.n(P),S=n(9),T=n.n(S),L=n("./app/pages/User/User.less"),N=(n.n(L),n("./app/utils.js")),I=n("./app/constants.js"),R=n("./app/api.js"),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=["tracks","playlists","likes","followings","about"],z=(l=n.i(g.inject)("sessionStore","viewStore"),c=v.observable.shallow,l(u=n.i(g.observer)((p=function(e){function t(){var e,n,i,s;a(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r(i,"user",f,i),r(i,"userWebProfiles",d,i),r(i,"profilesLoaded",m,i),r(i,"visuals",h,i),i.onScroll=function(){var e=i.props.viewStore;scrollY>20?e.appbarTransparent=!1:e.appbarTransparent=!0},i.handleChange=function(e,t){i.props.router.push("/"+i.user.permalink+"/"+M[t])},s=n,o(i,s)}return i(t,e),D(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1),this.props.viewStore.appbarTransparent=!0,this.loadUser(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1),this.props.viewStore.appbarTransparent=!1}},{key:"componentWillReceiveProps",value:function(e){e.params.user!==this.props.params.user&&this.loadUser(e)}},{key:"loadUser",value:function(e){var t=this,r=e.params.user,a=e.viewStore;this.user=null,this.userWebProfiles=[],this.profilesLoaded=!1,this.visuals=null,n.i(R.g)(r).then(function(e){t.user=e,a.title=e.username,n.i(R.h)(e.id).then(function(e){t.userWebProfiles=e,t.profilesLoaded=!0}),n.i(R.i)(e.id).then(function(e){return t.visuals=e})})}},{key:"render",value:function(){var e=this.props,t=e.sessionStore,r=e.params,a=this.user,o=(this.userWebProfiles,this.profilesLoaded),i=M.indexOf(r.cat);return i=i===-1?4:i,a&&o?b.a.createElement("div",{className:"animated fadeIn"},b.a.createElement("div",{className:"user-header"},null,b.a.createElement("div",{className:"container"},b.a.createElement("div",{className:"user-header__row"},b.a.createElement(T.a,{alt:a.username,src:n.i(N.a)(a.avatar_url,I.a.t200x200),style:{width:184,height:184}}),b.a.createElement("div",{className:"user-header__details"},b.a.createElement(j.a,{type:"display1"},a.username),b.a.createElement(j.a,{type:"headline"},n.i(N.g)(a)),b.a.createElement(j.a,{type:"subheading"},n.i(N.e)(a.followers_count)," followers")),t.isAuthedUser(a)?null:t.isFollowing(a)?b.a.createElement(w.a,{raised:!0,primary:!0,onTouchTap:function(){return t.toggleFollowing(a)}},"Unfollow"):b.a.createElement(w.a,{raised:!0,accent:!0,onTouchTap:function(){return t.toggleFollowing(a)}},"Follow")),b.a.createElement(x.a,{textColor:"accent",index:i,onChange:this.handleChange},M.map(function(e,t){return b.a.createElement(C.a,{key:t,label:e})})))),b.a.createElement("div",{className:"container"},this.props.children&&b.a.cloneElement(this.props.children,{user:this.user,userWebProfiles:this.userWebProfiles}))):b.a.createElement("div",{className:"loader-wrap"},b.a.createElement(E.CircularProgress,null))}}]),t}(b.a.Component),f=s(p.prototype,"user",[v.observable],{enumerable:!0,initializer:null}),d=s(p.prototype,"userWebProfiles",[c],{enumerable:!0,initializer:function(){return[]}}),m=s(p.prototype,"profilesLoaded",[v.observable],{enumerable:!0,initializer:null}),h=s(p.prototype,"visuals",[v.observable],{enumerable:!0,initializer:null}),u=p))||u)||u);t.a=z},"./app/stores/player-store.js":function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var i,s,l,c,u=n(4),p=(n.n(u),n("./app/api.js")),f=n("./app/utils.js"),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=15,h=.25,y=function(e){return e.filter(function(e){return e.hasOwnProperty("origin")&&e.origin||!0}).filter(function(e){return"track"===e.type||"track-repost"===e.type}).map(function(e){return e.origin||e})},b=(i=function(){function e(t){a(this,e),r(this,"originItems",s,this),r(this,"isLoading",l,this),this.player=t}return d(e,[{key:"loadMore",value:function(){var e=this;!this.isLoading&&this.nextHref&&(this.isLoading=!0,n.i(p.d)(this.nextHref).then(n.i(u.action)(function(t){y(t.collection).forEach(function(t){return e.originItems.push(t)}),e.nextHref=t.next_href,e.isLoading=!1})))}},{key:"items",get:function(){return this.player.skipPreviews?this.originItems.filter(function(e){return!n.i(f.d)(e)}):this.originItems}},{key:"trackIndex",get:function(){var e=this;return this.items.findIndex(function(t){return t.id===e.player.track.id})}},{key:"prevTrack",get:function(){if(0!==this.trackIndex)return this.items[this.trackIndex-1]}},{key:"nextTrack",get:function(){if(this.trackIndex!==this.items.length-1)return this.items[this.trackIndex+1]}},{key:"randomTrack",get:function(){return this.items[Math.floor(Math.random()*this.items.length)]}}]),e}(),s=o(i.prototype,"originItems",[u.observable],{enumerable:!0,initializer:function(){return[]}}),l=o(i.prototype,"isLoading",[u.observable],{enumerable:!0,initializer:null}),o(i.prototype,"items",[u.computed],Object.getOwnPropertyDescriptor(i.prototype,"items"),i.prototype),o(i.prototype,"trackIndex",[u.computed],Object.getOwnPropertyDescriptor(i.prototype,"trackIndex"),i.prototype),o(i.prototype,"prevTrack",[u.computed],Object.getOwnPropertyDescriptor(i.prototype,"prevTrack"),i.prototype),o(i.prototype,"nextTrack",[u.computed],Object.getOwnPropertyDescriptor(i.prototype,"nextTrack"),i.prototype),o(i.prototype,"randomTrack",[u.computed],Object.getOwnPropertyDescriptor(i.prototype,"randomTrack"),i.prototype),i),v=(c=function(){function e(t){var r=this;a(this,e),this.isSelected=n.i(u.createTransformer)(function(e){return r.track&&r.track.id===e.id&&(r.isPlaying?"isPlaying":"isPaused")}),this.queue=new b(this),n.i(u.extendObservable)(this,{track:null,isLoading:!1,isPlaying:!1,progress:0,buffered:0,volume:1,muted:!1,loop:!1,shuffle:!1,skipPreviews:!0})}return d(e,[{key:"playTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.track,t=arguments[1];if(e){if(this.track&&this.track.id===e.id)return this.isPlaying=!this.isPlaying;this.track=e,this.progress=0,this.isPlaying=!0,t&&(this.queue.originItems=t,this.queue.nextHref=n.i(p.q)()),this.queue.trackIndex+5>=this.queue.items.length&&this.queue.loadMore()}}},{key:"playPrev",value:function(){this.playTrack(this.queue.prevTrack)}},{key:"playNext",value:function(){var e=this.shuffle?this.queue.randomTrack:this.queue.nextTrack;this.playTrack(e)}},{key:"setIsLoading",value:function(e){this.isLoading=e}},{key:"setProgress",value:function(e){this.progress=e}},{key:"setBuffered",value:function(e){this.buffered=e}},{key:"toggleMuted",value:function(){if(!this.muted)return this._volume=this.volume,this.volume=0,void(this.muted=!0);this.volume=this._volume,this.muted=!1}},{key:"toggleShuffle",value:function(){this.shuffle=!this.shuffle}},{key:"toggleLoop",value:function(){this.loop=!this.loop}},{key:"setVolume",value:function(e){this.muted=!1,this.volume=e}},{key:"stepForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=this.track.duration/1e3-this.progress;this.isPlaying&&(e<t?this.progress+=e:this.playNext())}},{key:"stepBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;this.isPlaying&&(this.progress-=Math.min(e,this.progress))}},{key:"increaseVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.muted&&this.toggleMuted(),this.setVolume(Math.min(this.volume+e,1))}},{key:"decreaseVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.muted&&this.toggleMuted(),this.setVolume(Math.max(this.volume-e,0))}},{key:"toggleSkipPreviews",value:function(){this.skipPreviews=!this.skipPreviews}}]),e}(),o(c.prototype,"playTrack",[u.action],Object.getOwnPropertyDescriptor(c.prototype,"playTrack"),c.prototype),c);t.a=new v},"./app/stores/session-store.js":function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var i,s,l,c,u=n(4),p=(n.n(u),n(14)),f=n.n(p),d=n(13),m=n.n(d),h=n("./app/config.js"),y=n("./app/api.js"),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){return console.error(e)},g=(i=function(){function e(){a(this,e),r(this,"user",s,this),r(this,"userLikesIds",l,this),r(this,"userFollowingsIds",c,this),f.a.isConnected()&&this.getMe()}return b(e,[{key:"isAuthedUser",value:function(e){return!!this.user&&this.user.id===e.id}},{key:"isLiked",value:function(e){return this.userLikesIds.includes(e.id)}},{key:"isFollowing",value:function(e){return this.userFollowingsIds.includes(e.id)}},{key:"login",value:function(){var e=this;return f.a.connect().then(function(t){return m.a.set(h.b,t.oauth_token),e.getMe()}).catch(v)}},{key:"logout",value:function(){m.a.remove(h.b),this.user=null}},{key:"getMe",value:function(){var e=this;return f.a.get("/me").then(function(t){e.user=t,n.i(y.k)().then(function(t){return e.userLikesIds=t}),n.i(y.l)().then(function(t){return e.userFollowingsIds=t})}).catch(v)}},{key:"toggleLike",value:function(e){var t=this;if(!this.isLoggedIn)return this.login().then(function(){return t.toggleLike(e)});this.isLiked(e)?n.i(y.m)(e.id).then(function(){return t.userLikesIds.remove(e.id)}):n.i(y.n)(e.id).then(function(){return t.userLikesIds.unshift(e.id)})}},{key:"toggleFollowing",value:function(e){var t=this;if(!this.isLoggedIn)return this.login().then(function(){return t.toggleFollowing(e)});this.isFollowing(e)?n.i(y.o)(e.id).then(function(){return t.userFollowingsIds.remove(e.id)}):n.i(y.p)(e.id).then(function(){return t.userFollowingsIds.unshift(e.id)})}},{key:"isLoggedIn",get:function(){return!!this.user}}]),e}(),s=o(i.prototype,"user",[u.observable],{enumerable:!0,initializer:null}),l=o(i.prototype,"userLikesIds",[u.observable],{enumerable:!0,initializer:function(){return[]}}),c=o(i.prototype,"userFollowingsIds",[u.observable],{enumerable:!0,initializer:function(){return[]}}),o(i.prototype,"isLoggedIn",[u.computed],Object.getOwnPropertyDescriptor(i.prototype,"isLoggedIn"),i.prototype),i);t.a=new g},"./app/stores/view-store.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(4),o=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),i=function(){function e(){var t=this;r(this,e),n.i(a.extendObservable)(this,{title:"",playlistOpen:!1,volumeControlOpen:!1,drawerOpen:!1,appbarTransparent:!1}),window.addEventListener("click",function(){return t.playlistOpen=!1})}return o(e,[{key:"togglePlaylist",value:function(){this.playlistOpen=!this.playlistOpen}},{key:"toggleDrawer",value:function(){this.drawerOpen=!this.drawerOpen}}]),e}();t.a=new i},"./app/styles/index.less":function(e,t){},"./app/utils.js":function(e,t,n){"use strict";function r(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"large";return!e||e.includes(f)?"//placehold.it/300x300?text=no+image":e.replace("large",t)}function o(e){var t=p.a.duration(e);return t.asHours()>1?Math.floor(t.asHours())+p.a.utc(t.asMilliseconds()).format(":mm:ss"):p.a.utc(t.asMilliseconds()).format("mm:ss")}function i(e){return e?e/1e3<1?e.toLocaleString():e/1e6<1?Math.round(e/1e3)+"K":Math.round(e/1e6*10)/10+"M":"-"}function s(e){return p()(new Date(e)).from(p()())}function l(e){return e.city&&e.country?e.city+", "+e.country:e.city?e.city:e.country?e.country:void 0}function c(e){return e?e.match(/\w+|"[^"]+"/g).map(function(e){return"#"+e.replace(/"/g,"")}):[]}var u=n(18),p=n.n(u);t.h=r,t.a=a,t.b=o,t.e=i,t.c=s,t.g=l,t.f=c,n.d(t,"d",function(){return d});var f="//a1.sndcdn.com/images/",d=function(e){return 3e4===e.duration}},"./node_modules/react-hot-loader/index.js":function(e,t,n){e.exports=n("./node_modules/react-hot-loader/lib/index.js")},"./node_modules/react-hot-loader/lib/AppContainer.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-hot-loader/lib/AppContainer.prod.js")},"./node_modules/react-hot-loader/lib/AppContainer.prod.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=s.Component,c=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return this.props.component?s.createElement(this.props.component,this.props.props):s.Children.only(this.props.children)}}]),t}(l);e.exports=c},"./node_modules/react-hot-loader/lib/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-hot-loader/lib/AppContainer.js");e.exports=function(e){throw this&&this.callback?new Error('React Hot Loader: The Webpack loader is now exported separately. If you use Babel, we recommend that you remove "react-hot-loader" from the "loaders" section of your Webpack configuration altogether, and instead add "react-hot-loader/babel" to the "plugins" section of your .babelrc file. If you prefer not to use Babel, replace "react-hot-loader" or "react-hot" with "react-hot-loader/webpack" in the "loaders" section of your Webpack configuration.'):e&&e.types&&e.types.IfStatement?new Error('React Hot Loader: The Babel plugin is exported separately. Replace "react-hot-loader" with "react-hot-loader/babel" in the "plugins" section of your .babelrc file. While we recommend the above, if you prefer not to use Babel, you may remove "react-hot-loader" from the "plugins" section of your .babelrc file altogether, and instead add "react-hot-loader/webpack" to the "loaders" section of your Webpack configuration.'):new Error('React Hot Loader does not have a default export. If you use the import statement, make sure to include the curly braces: import { AppContainer } from "react-hot-loader". If you use CommonJS, make sure to read the named export: require("react-hot-loader").AppContainer.')},e.exports.AppContainer=r},"./node_modules/react-hot-loader/lib/patch.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-hot-loader/lib/patch.prod.js")},"./node_modules/react-hot-loader/lib/patch.prod.js":function(e,t,n){"use strict"},"./node_modules/react-hot-loader/patch.js":function(e,t,n){e.exports=n("./node_modules/react-hot-loader/lib/patch.js")},"./node_modules/react-virtualized/styles.css":function(e,t){},0:function(e,t){e.exports=vendor},1:function(e,t,n){e.exports=n(0)(1)},10:function(e,t,n){e.exports=n(0)(524)},11:function(e,t,n){e.exports=n(0)(54)},12:function(e,t,n){e.exports=n(0)(198)},13:function(e,t,n){e.exports=n(0)(369)},14:function(e,t,n){e.exports=n(0)(377)},15:function(e,t,n){e.exports=n(0)(536)},16:function(e,t,n){e.exports=n(0)(573)},17:function(e,t,n){e.exports=n(0)(576)},18:function(e,t,n){e.exports=n(0)(2)},19:function(e,t,n){e.exports=n(0)(25)},2:function(e,t,n){e.exports=n(0)(156)},20:function(e,t,n){e.exports=n(0)(368)},21:function(e,t,n){e.exports=n(0)(370)},22:function(e,t,n){e.exports=n(0)(372)},23:function(e,t,n){e.exports=n(0)(375)},24:function(e,t,n){e.exports=n(0)(376)},25:function(e,t,n){e.exports=n(0)(510)},26:function(e,t,n){e.exports=n(0)(528)},27:function(e,t,n){e.exports=n(0)(542)},28:function(e,t,n){e.exports=n(0)(545)},29:function(e,t,n){e.exports=n(0)(55)},3:function(e,t,n){e.exports=n(0)(84)},30:function(e,t,n){e.exports=n(0)(553)},31:function(e,t,n){e.exports=n(0)(565)},32:function(e,t,n){e.exports=n(0)(580)},33:function(e,t,n){e.exports=n(0)(582)},34:function(e,t,n){e.exports=n(0)(587)},35:function(e,t,n){n("./node_modules/react-hot-loader/patch.js"),e.exports=n("./app/main.js")},4:function(e,t,n){e.exports=n(0)(93)},5:function(e,t,n){e.exports=n(0)(374)},6:function(e,t,n){e.exports=n(0)(195)},7:function(e,t,n){e.exports=n(0)(557)},8:function(e,t,n){e.exports=n(0)(519)},9:function(e,t,n){e.exports=n(0)(512)}});
//# sourceMappingURL=bundle.js.map